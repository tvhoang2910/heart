<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nhật Ký Tình Yêu 3D - Cân Đối & Lãng Mạn</title>
    <style>
        /* --- Import Font Lãng Mạn --- */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap');

        /* --- CSS Reset & Nền --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Dancing Script', cursive;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            overflow: hidden;
            /* Ẩn thanh cuộn */
            position: relative;
        }

        /* --- Hiệu ứng ngôi sao lấp lánh --- */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            /* Không chặn sự kiện chuột */
            z-index: 0;
            /* Đảm bảo ở lớp dưới cùng */
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 0 5px white, 0 0 10px white, 0 0 15px white;
            animation: twinkle 5s infinite ease-in-out;
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 0.5;
                transform: scale(0.8);
            }

            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* --- Hiệu ứng Trái Tim 3D --- */
        .hearts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
            /* Lớp trên sao, dưới sách */
        }

        .heart {
            position: absolute;
            transform: rotate(-45deg);
            background-color: #ff69b4;
            /* Hồng nóng */
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
            animation: flyAndFade 6s infinite ease-out;
            opacity: 0;
        }

        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ff69b4;
            border-radius: 50%;
        }

        .heart::before {
            top: -50%;
            left: 0;
        }

        .heart::after {
            top: 0;
            left: 50%;
        }

        @keyframes flyAndFade {
            0% {
                transform: translate(-50%, 0) rotate(-45deg) scale(0);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
                transform: translate(-50%, -20%) rotate(-45deg) scale(1);
            }

            100% {
                transform: translate(-50%, -100vh) rotate(-45deg) scale(0.5);
                opacity: 0;
            }
        }


        /* --- Thiết kế cuốn sách 3D --- */
        .book-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            z-index: 10;
            /* Đảm bảo sách luôn ở trên cùng */
        }

        .book {
            width: 800px;
            /* Chiều rộng tổng của 2 trang khi mở */
            height: 550px;
            position: relative;
            transform-style: preserve-3d;
            perspective: 2000px;
            /* Căn giữa cuốn sách bằng translateX */
            transform: translateX(-50%);
            left: 50%;
        }

        .page {
            width: 400px;
            /* Chiều rộng của một trang */
            height: 100%;
            position: absolute;
            top: 0;
            left: 400px;
            /* Tất cả các trang bắt đầu từ vị trí gáy sách (400px từ trái) */
            transform-origin: left;
            /* Lật từ bên trái của tấm trang (tức là gáy sách) */
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.65, 0, 0.35, 1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border-radius: 0 10px 10px 0;
            cursor: pointer;
        }

        /* Bìa sách khi đóng */
        .page.cover {
            left: 0;
            /* Bìa nằm ở vị trí 0px từ trái của cuốn sách */
            transform-origin: 100% 50%;
            /* Lật từ mép phải của bìa */
            border-radius: 0 10px 10px 0;
            transition: transform 1.5s cubic-bezier(0.65, 0, 0.35, 1);
            /* Transition riêng cho bìa khi mở */
            pointer-events: auto;
            /* Cho phép click vào bìa */
        }

        /* Hiệu ứng khi bìa sách đã lật (mở ra) */
        .page.cover.flipped {
            transform: rotateY(-180deg);
        }

        /* Các trang nội dung khi cuốn sách đã mở */
        /* Các trang nội dung sẽ bắt đầu lật từ giữa sách (400px) */
        .page.content-page {
            left: 400px;
            transform-origin: left;
            transition: transform 1.2s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .page.content-page.flipped {
            transform: rotateY(-180deg);
        }

        /* Mặt trước và mặt sau của mỗi trang */
        .page-front,
        .page-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            /* Ẩn mặt sau khi không được lật */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background-color: #fff8f9;
            /* Màu giấy hơi hồng */
        }

        .page-front {
            border-radius: 0 10px 10px 0;
        }

        .page-back {
            transform: rotateY(180deg);
            border-radius: 10px 0 0 10px;
        }

        /* Trang bìa */
        .page.cover .page-front {
            background: linear-gradient(45deg, #ffdde1, #ee9ca7);
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            border-radius: 0 10px 10px 0;
        }

        .page.cover .page-front h1 {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .page.cover .page-front p {
            font-size: 1.5rem;
        }

        .page.cover .page-back {
            background: linear-gradient(45deg, #ee9ca7, #ffdde1);
            /* Màu bìa sau */
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            border-radius: 10px 0 0 10px;
        }


        /* Nội dung trang */
        .page-content img {
            max-width: 90%;
            max-height: 80%;
            object-fit: cover;
            border-radius: 8px;
            border: 5px solid white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .page-content .text-block {
            /* Sử dụng class text-block cho nội dung tĩnh */
            font-size: 1.6rem;
            color: #5d4954;
            text-align: center;
            line-height: 1.6;
            padding: 15px;
            width: 90%;
            height: 80%;
            display: flex;
            /* Dùng flex để căn giữa nội dung theo chiều dọc */
            justify-content: center;
            align-items: center;
            background-color: #fffafb;
            /* Nền hơi hồng nhạt */
            border: 2px dashed #ffb6c1;
            /* Viền nét đứt nhẹ nhàng */
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            overflow: auto;
            /* Thêm thanh cuộn nếu nội dung quá dài */
        }

        /* Đánh số trang */
        .page-number {
            position: absolute;
            bottom: 15px;
            font-size: 1rem;
            color: #c9a7b9;
        }

        .page-front .page-number {
            right: 15px;
        }

        .page-back .page-number {
            left: 15px;
        }

        .page.cover .page-number {
            display: none;
            /* Bìa không có số trang */
        }


        /* Nút điều khiển */
        .navigation {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            /* Tạo khoảng cách với cuốn sách */
            z-index: 10;
        }

        button {
            padding: 12px 25px;
            font-family: 'Arial', sans-serif;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            background-color: white;
            color: #ee9ca7;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            background-color: #ffdde1;
        }

        button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
    </style>
</head>

<body>

    <!-- Hiệu ứng ngôi sao -->
    <div class="stars" id="stars-container"></div>

    <!-- Hiệu ứng trái tim -->
    <div class="hearts-container" id="hearts-container"></div>

    <div class="book-container">
        <div class="book" id="book">
            <!--
                Cuốn sách có tổng cộng 9 "tấm" page (chỉ số 0-8).
                Mỗi tấm page có 2 mặt (front/back), tổng cộng 18 mặt.
                Trang 0: Bìa trước và bìa sau
                Trang 1-5: Mỗi tấm page hiển thị 2 ảnh (10 ảnh)
                Trang 6: 1 ảnh (mặt trước), Lời tỏ tình #1 (mặt sau)
                Trang 7: Lời tỏ tình #2 (mặt trước), Lời tỏ tình #3 (mặt sau)
                Trang 8: Lời tỏ tình #4 (mặt trước), Lời tỏ tình #5 (mặt sau)
            -->

            <!-- Page 0: Bìa sách -->
            <div class="page cover" data-page-index="0">
                <div class="page-front">
                    <h1>Nhật Ký Tình Yêu</h1>
                    <p>Dành tặng em...</p>
                </div>
                <div class="page-back">
                    <p style="font-size: 1.5rem; text-align: center;">Tình yêu của chúng ta</p>
                </div>
            </div>

            <!-- Page 1: Ảnh 1 & Ảnh 2 -->
            <div class="page content-page" data-page-index="1">
                <div class="page-front page-content">
                    <img src="photobooth-2025-09-14.png" alt="Kỷ niệm 1">
                    <span class="page-number">1</span>
                </div>
                <div class="page-back page-content">
                    <img src="photobooth-2025-09-14 (2).png" alt="Kỷ niệm 2">
                    <span class="page-number">2</span>
                </div>
            </div>

            <!-- Page 2: Ảnh 3 & Ảnh 4 -->
            <div class="page content-page" data-page-index="2">
                <div class="page-front page-content">
                    <img src="photobooth-2025-09-14 (3).png" alt="Kỷ niệm 3">
                    <span class="page-number">3</span>
                </div>
                <div class="page-back page-content">
                    <img src="photobooth-2025-09-14 (4).png" alt="Kỷ niệm 4">
                    <span class="page-number">4</span>
                </div>
            </div>

            <!-- Page 3: Ảnh 5 & Ảnh 6 -->
            <div class="page content-page" data-page-index="3">
                <div class="page-front page-content">
                    <img src="photobooth-2025-09-14 (5).png" alt="Kỷ niệm 5">
                    <span class="page-number">5</span>
                </div>
                <div class="page-back page-content">
                    <img src="photobooth-2025-09-14 (6).png" alt="Kỷ niệm 6">
                    <span class="page-number">6</span>
                </div>
            </div>

            <!-- Page 4: Ảnh 7 & Ảnh 8 -->
            <div class="page content-page" data-page-index="4">
                <div class="page-front page-content">
                    <img src="photobooth-2025-09-14 (8).png" alt="Kỷ niệm 7">
                    <span class="page-number">7</span>
                </div>
                <div class="page-back page-content">
                    <img src="photobooth-2025-09-14 (9).png" alt="Kỷ niệm 8">
                    <span class="page-number">8</span>
                </div>
            </div>

            <!-- Page 5: Ảnh 9 & Ảnh 10 (Ảnh cuối cùng) -->
            <div class="page content-page" data-page-index="5">
                <div class="page-front page-content">
                    <img src="photobooth-2025-09-14 (10).png" alt="Kỷ niệm 9">
                    <span class="page-number">9</span>
                </div>
                <div class="page-back page-content">
                    <img src="download.jpg" alt="Kỷ niệm 10">
                    <span class="page-number">10</span>
                </div>
            </div>

            <!-- Page 6: Lời tỏ tình #1 & Lời tỏ tình #2 -->
            <div class="page content-page" data-page-index="6">
                <div class="page-front page-content">
                    <div class="text-block">
                        "Mỗi khi nhìn thấy cậu, trái tim tớ như được sưởi ấm. Tớ thích cái cách tớ trở nên ngớ ngẩn mỗi
                        khi ở gần cậu.Từ khi cậu xuất hiện, cuộc sống của tớ như có thêm một gam màu mới, rực rỡ hơn rất
                        nhiều."
                    </div>
                    <span class="page-number">11</span>
                </div>
                <div class="page-back page-content">
                    <div class="text-block">
                        "Cậu còn nhớ lần chúng ta cùng giải quyết việc làm slide cho sevy không? Lúc ấy, tớ thấy vui khi
                        mình giúp ích được cho cậu."
                    </div>
                    <span class="page-number">12</span>
                </div>
            </div>

            <!-- Page 7: Lời tỏ tình #3 & Lời tỏ tình #4 -->
            <div class="page content-page" data-page-index="7">
                <div class="page-front page-content">
                    <div class="text-block">
                        "Tớ thích sự hồn nhiên, đáng yêu của cậu.Tớ ngưỡng mộ sự mạnh mẽ, độc lập của cậu.Cậu luôn biết
                        cách làm cho mọi người xung quanh cảm thấy thoải mái và vui vẻ.Cậu luôn là người đầu tiên tớ
                        nghĩ đến khi có điều gì thú vị muốn kể."
                    </div>
                    <span class="page-number">13</span>
                </div>
                <div class="page-back page-content">
                    <div class="text-block">
                        "Tớ muốn được cùng cậu viết nên những câu chuyện đẹp của riêng chúng ta.Tớ muốn được cùng cậu
                        chia sẻ mọi buồn vui trong cuộc sống.Tớ muốn được chăm sóc cho cậu, được ở bên cạnh cậu mỗi
                        ngày."
                    </div>
                    <span class="page-number">14</span>
                </div>
            </div>

            <!-- Page 8: Lời tỏ tình #5 & Bìa sau cuối cùng -->
            <div class="page content-page" data-page-index="8">
                <div class="page-front page-content">
                    <div class="text-block">
                        "Tớ muốn được nắm tay cậu, được cùng cậu đi qua những tháng ngày phía trước.Nếu cậu cho tớ một
                        cơ hội, tớ sẽ không làm cậu thất vọng.Dù cậu quyết định thế nào, tớ vẫn sẽ tôn trọng. Nhưng tớ
                        rất hy vọng chúng ta có thể tiến xa hơn."
                    </div>
                    <span class="page-number">15</span>
                </div>
                <div class="page-back">
                    <p style="font-size: 1.5rem; color: #5d4954; text-align: center;">Mãi mãi bên nhau! ❤️</p>
                </div>
            </div>

        </div>

        <!-- Nút điều khiển -->
        <div class="navigation">
            <button id="prevBtn">Trang trước</button>
            <button id="nextBtn">Trang sau</button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- Hiệu ứng ngôi sao ---
            const starsContainer = document.getElementById('stars-container');
            const numStars = 100;

            for (let i = 0; i < numStars; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                let x = Math.random() * 100;
                let y = Math.random() * 100;
                let size = Math.random() * 3 + 1; // Kích thước từ 1px đến 4px
                let duration = Math.random() * 3 + 2; // Thời gian animation từ 2s đến 5s

                star.style.left = `${x}vw`;
                star.style.top = `${y}vh`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDuration = `${duration}s`;
                star.style.animationDelay = `${Math.random() * 3}s`;

                starsContainer.appendChild(star);
            }

            // --- Hiệu ứng Trái Tim 3D ---
            const heartsContainer = document.getElementById('hearts-container');
            const spawnInterval = 500;

            function createHeart() {
                let heart = document.createElement('div');
                heart.className = 'heart';
                let x = Math.random() * 100; // Vị trí ngang ngẫu nhiên
                let size = Math.random() * 20 + 10; // Kích thước từ 10px đến 30px
                let duration = Math.random() * 4 + 4; // Thời gian animation từ 4s đến 8s
                let delay = Math.random() * 2; // Độ trễ animation ngẫu nhiên

                heart.style.left = `${x}vw`;
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.animationDuration = `${duration}s`;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationTimingFunction = `cubic-bezier(${Math.random()}, ${Math.random()}, ${Math.random()}, ${Math.random()})`;

                heartsContainer.appendChild(heart);

                heart.addEventListener('animationend', function () {
                    heart.remove();
                });
            }

            setInterval(createHeart, spawnInterval);


            // --- Logic lật sách ---
            const book = document.getElementById('book');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pages = book.querySelectorAll('.page'); // Lấy tất cả các tấm page
            const coverPage = book.querySelector('.page.cover'); // Lấy riêng bìa sách

            let currentPageIndex = -1; // -1: bìa đóng, 0: bìa mở, 1: trang 1 đã lật, ...
            const totalPages = pages.length; // Tổng số tấm page (bao gồm bìa)

            // Thiết lập z-index ban đầu cho tất cả các tấm page
            pages.forEach((page, index) => {
                // Bìa luôn ở trên cùng khi đóng
                page.style.zIndex = totalPages - index;
            });

            function updateButtons() {
                prevBtn.disabled = currentPageIndex === -1; // Vô hiệu hóa khi bìa đóng
                nextBtn.disabled = currentPageIndex === (totalPages - 1); // Vô hiệu hóa khi đã lật đến trang cuối cùng
            }

            function goNextPage() {
                if (currentPageIndex === -1) { // Lần đầu tiên nhấp next, mở bìa
                    coverPage.classList.add('flipped');
                    // Tăng z-index của bìa để nó lật qua các trang khác
                    coverPage.style.zIndex = totalPages + 1;
                    currentPageIndex = 0; // Đã mở bìa
                    // Chờ animation lật bìa xong rồi mới cho phép lật trang tiếp theo
                    setTimeout(() => {
                        updateButtons();
                        // Reset z-index bìa về vị trí tương đối của nó để các trang sau có thể lật lên trên
                        coverPage.style.zIndex = 0;
                    }, 1200); // 1.2s là thời gian transition của bìa
                } else if (currentPageIndex < (totalPages - 1)) { // Lật các trang nội dung
                    currentPageIndex++;
                    pages[currentPageIndex].classList.add('flipped');
                    // Tăng z-index của trang đang lật
                    pages[currentPageIndex].style.zIndex = totalPages + 1;
                    updateButtons();
                    // Đặt lại z-index sau khi animation hoàn tất để duy trì thứ tự
                    setTimeout(() => {
                        pages[currentPageIndex].style.zIndex = currentPageIndex;
                    }, 1200);
                }
            }

            function goPrevPage() {
                if (currentPageIndex === 0) { // Đang ở trang 1 (bìa đã mở), đóng bìa lại
                    coverPage.classList.remove('flipped');
                    // Đặt lại z-index của bìa để nó che lại các trang
                    coverPage.style.zIndex = totalPages + 1;
                    currentPageIndex = -1; // Trạng thái bìa đóng
                    // Chờ animation đóng bìa xong rồi mới giảm z-index
                    setTimeout(() => {
                        updateButtons();
                        coverPage.style.zIndex = pages.length - 0; // Đặt lại z-index ban đầu
                    }, 1200);
                } else if (currentPageIndex > 0) { // Lật các trang nội dung về trước
                    pages[currentPageIndex].classList.remove('flipped');
                    // Đặt lại z-index của trang vừa lật về vị trí ban đầu
                    pages[currentPageIndex].style.zIndex = totalPages - currentPageIndex;
                    currentPageIndex--;
                    updateButtons();
                }
            }

            nextBtn.addEventListener('click', goNextPage);
            prevBtn.addEventListener('click', goPrevPage);

            // Bắt đầu với các nút được cập nhật
            updateButtons();
        });
    </script>

</body>

</html>